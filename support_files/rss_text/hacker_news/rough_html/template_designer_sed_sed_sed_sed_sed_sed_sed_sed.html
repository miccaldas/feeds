

    
    
    
    
    
    
    
    
    
    
        
        
        
('url', 'https://jinja.palletsprojects.com/en/3.0.x/templates/#list-of-control-structures')
('title', 'template_designer_documentation_—_j')
('text', [<p>This document describes the syntax and semantics of the template engine and
will be most useful as reference to those creating Jinja templates.  As the
template engine is very flexible, the configuration from the application can
be slightly different from the code presented here in terms of delimiters and
behavior of undefined values.</p> <p>A Jinja template is simply a text file. Jinja can generate any text-based
format (HTML, XML, CSV, LaTeX, etc.).  A Jinja template doesn’t need to have a
specific extension: <code class="docutils literal notranslate"><span class="pre">.html</span></code>, <code class="docutils literal notranslate"><span class="pre">.xml</span></code>, or any other extension is just fine.</p> <p>A template contains <strong>variables</strong> and/or <strong>expressions</strong>, which get replaced
with values when a template is <em>rendered</em>; and <strong>tags</strong>, which control the
logic of the template.  The template syntax is heavily inspired by Django and
Python.</p> <p>Below is a minimal template that illustrates a few basics using the default
Jinja configuration.  We will cover the details later in this document:</p> <p>The following example shows the default configuration settings.  An application
developer can change the syntax configuration from
<span class="pre">%&gt;</span></code>, or something similar.</p> <p>There are a few kinds of delimiters. The default Jinja delimiters are
configured as follows:</p> <p><code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></code> for<a class="reference internal" href="#list-of-control-structures"><span class="std std-ref">Statements</span></a></p> <p><code class="docutils literal notranslate"><spanclass="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></code> for <a class="reference internal" href="#expressions"><span class="std std-ref">Expressions</span></a> to print to the template output</p> <p><code class="docutils literal notranslate"><span class="pre">{#</span> <span class="pre">...</span> <span class="pre">#}</span></code> for <a class="reference internal" href="#comments"><span class="std std-ref">Comments</span></a> not included in the template output</p> <p><a class="reference internal" href="#line-statements"><span class="std std-ref">Line Statements and Comments</span></a> are also possible,
though they don’t have default prefix characters. To use them, set
<code class="docutils literal notranslate"><span class="pre">line_statement_prefix</span></code> and <code class="docutils literal notranslate"><span class="pre">line_comment_prefix</span></code> when creating the
<a class="reference internal" href="../api/#jinja2.Environment" title="jinja2.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a>.</p> <p>As stated above, any file can be loaded as a template, regardless of
file extension. Adding a
may make it easier for some IDEs or editor plugins, but is not required.
Autoescaping, introduced later, can be applied based on file extension,
so you’ll need to take the extra suffix into account in that case.</p> <p>Another good heuristic for identifying templates is that they are in a
<code class="docutils literal notranslate"><span class="pre">templates</span></code> folder, regardless of extension. This is a common layout
for projects.</p> <p>Template variables are defined by the context dictionary passed to the
template.</p> <p>You can mess around with the variables in templates provided they are passed in
by the application.  Variables may have attributes or elements on them you can
access too.  What attributes a variable has depends heavily on the application
providing that variable.</p> <p>You can use a dot (<code class="docutils literal notranslate"><span class="pre">.</span></code>) to access attributes of a variable in addition
to the standard Python <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> “subscript” syntax (<code class="docutils literal notranslate"><span class="pre">[]</span></code>).</p> <p>The following lines do the same thing:</p> <p>It’s important to know that the outer double-curly braces are <em>not</em>part of the
variable, but the print statement.  If you access variables inside tags don’t
put the braces around them.</p> <p>If a variable or attribute does not exist, you will get back an undefined
value.  What you can do with that kind of value depends on the application
configuration: the default behavior is to evaluate to an empty string if
printed or iterated over, and to fail for every other operation.</p> <p class="admonition-title">Implementation</p> <p>For the sake of convenience, <code class="docutils literal notranslate"><span class="pre">foo.bar</span></code> in Jinja does the following
things on the Python layer:
(
(<code class="docutils literal notranslate"><span class="pre">foo.__getitem__('bar')</span></code>)</p> <p>if there is not, return an undefined object.</p> <p><code class="docutils literal notranslate"><span class="pre">foo['bar']</span></code> works mostly the same with a small difference in sequence:</p> <p>check for an item <code class="docutils literal notranslate"><span class="pre">'bar'</span></code> in <cite>foo</cite>.
(<code class="docutils literal notranslate"><span class="pre">foo.__getitem__('bar')</span></code>)</p> <p>if there is not, check for an attribute called <cite>bar</cite> on <cite>foo</cite>.
(<code class="docutils literal notranslate"><span class="pre">getattr(foo,</span> <span class="pre">'bar')</span></code>)</p> <p>if there is not, return an undefined object.</p> <p>This is important if an object has an item and attribute with the same
name.  Additionally, the <code class="xref py py-func docutils literal notranslate"><span class="pre">attr()</span></code> filter only looks up attributes.</p> <p>Variables can be modified by <strong>filters</strong>.  Filters are separated from the
variable by a pipe symbol (<code class="docutils literal notranslate"><span class="pre">|</span></code>) and may have optional arguments in
parentheses.  Multiple filters can be chained.  The output of one filter is
applied to the next.</p> <p>For example, <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">name|striptags|title</span> <span class="pre">}}</span></code> will remove all HTML Tags from
variable <cite>name</cite> and title-case the output (<code class="docutils literal notranslate"><span class="pre">title(striptags(name))</span></code>).</p> <p>Filtersthat accept arguments have parentheses around the arguments, just like
a function call.  For example: <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">listx|join(',</span> <span class="pre">')</span><span class="pre">}}</span></code> will join a list with
commas (<code class="docutils literal notranslate"><span class="pre">str.join(',</span> <span class="pre">',</span> <span class="pre">listx)</span></code>).</p> <p>The <a class="reference internal" href="#builtin-filters"><span class="std std-ref">List of Builtin Filters</span></a> below describes all the builtin filters.</p> <p>Besidefilters, there are also so-called “tests” available.  Tests can be used
to test a variable against a common expression.  To test a variable or
expression, you add <cite>is</cite> plus the name of the test after the variable.  For
example, to find out if a variable is defined, you can do <code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">is</span> <span class="pre">defined</span></code>,
which will then return true or false depending on whether <cite>name</cite> is defined
in the current template context.</p> <p>Tests can accept arguments, too.  If the test only takes one argument, you can
leave out the parentheses.  For example, the following two
expressions do the same thing:</p> <p>The <a class="reference internal" href="#builtin-tests"><span class="std std-ref">List of Builtin Tests</span></a> below describesall the builtin tests.</p> <p>To comment-out part of a line in a template, use the comment syntax which is
by default set to <code class="docutils literal notranslate"><span class="pre">{#</span> <span class="pre">...</span> <span class="pre">#}</span></code>.  This is useful to comment out parts of the
template for debugging or to add information for other template designers or
yourself:</p> <p>In the default configuration:</p> <p>a single trailing newline is stripped if present</p> <p>other whitespace (spaces, tabs, newlines etc.) is returnedunchanged</p> <p>If an application configures Jinja to <cite>trim_blocks</cite>, the first newline after a
template tag is removed automatically (like in PHP). The
option can also be set to strip tabs and spaces from the beginning of a
line to the start of a block. (Nothing will be stripped if there are
other characters before the start of the block.)</p> <p>With both <cite>trim_blocks</cite> and <cite>lstrip_blocks</cite> enabled, you can put block tags
on their own lines, and the entire block line will be removed when
rendered, preserving the whitespace of the contents.  For example,
without the <cite>trim_blocks</cite> and <cite>lstrip_blocks</cite> options, this template:</p> <p>gets rendered with blank lines inside the div:</p> <p>But with both <cite>trim_blocks</cite> and <cite>lstrip_blocks</cite> enabled, the template block
lines are removed and other whitespace is preserved:</p> <p>You can manually disable the <cite>lstrip_blocks</cite> behavior by putting a
plus sign (<code class="docutils literal notranslate"><span class="pre">+</span></code>) at the start of a block:</p> <p>Similarly, you can manually disable the <code class="docutils literal notranslate"><span class="pre">trim_blocks</span></code> behavior by
putting a plus sign (<code class="docutils literal notranslate"><span class="pre">+</span></code>) at the end of a block:</p> <p>You can also strip whitespace in templates by hand.  If you add a minus
sign (<code class="docutils literal notranslate"><span class="pre">-</span></code>) to the start or end of a block (e.g. a <a class="reference internal" href="#for-loop"><span class="std std-ref">For</span></a> tag), a
comment, or a variable expression, the whitespaces before or after
that block will be removed:</p> <p>This will yield all elements without whitespace between them.  If <cite>seq</cite> was
a list of numbers from <code class="docutils literal notranslate"><span class="pre">1</span></code> to <code class="docutils literal notranslate"><span class="pre">9</span></code>, the output would be <code class="docutils literal notranslate"><span class="pre">123456789</span></code>.</p> <p>If <a class="reference internal" href="#line-statements"><span class="std std-ref">Line Statements</span></a> are enabled, they strip leading whitespace
automatically up to the beginning of the line.</p> <p>By default, Jinja also removes trailing newlines.  To keep single
trailing newlines, configure Jinja to <cite>keep_trailing_newline</cite>.</p> <p class="admonition-title">Note</p> <p>You must not add whitespace between the tag and the minus sign.</p> <p><strong>valid</strong>:</p> <p><strong>invalid</strong>:</p> <p>It is sometimes desirable – even necessary – to have Jinja ignore parts
it would otherwise handle as variables or blocks.  For example, if, with
the default syntax, you want to use <code class="docutils literal notranslate"><span class="pre">{{</span></code> as a raw string in a template and
not start a variable, you have to use a trick.</p> <p>The easiest way to output a literal variable delimiter (<code class="docutils literal notranslate"><span class="pre">{{</span></code>) is by using a
variable expression:</p> <p>For bigger sections, it makes sense to mark a block <cite>raw</cite>.  For example, to
include example Jinja syntax in a template, you can use this snippet:</p> <p class="admonition-title">Note</p> <p>Minus sign at the end of <code class="docutils literalnotranslate"><span class="pre">{%</span> <span class="pre">raw</span> <span class="pre">-%}</span></code> tag cleans all the spaces and newlines
preceding the first character of your raw data.</p> <p>If line statements are enabled by the application, it’s possible to mark a
line as a statement.  For example, if the line statement prefix is configured
to <code class="docutils literal notranslate"><span class="pre">#</span></code>, the following two examples are equivalent:</p> <p>The line statement prefix can appear anywhere on the line as long as no text
precedes it.  For better readability, statements that start a block (such as
<cite>for</cite>, <cite>if</cite>, <cite>elif</cite> etc.) may end with a colon:</p> <p class="admonition-title">Note</p> <p>Line statements can span multiple lines if there are open parentheses,
braces or brackets:</p> <p>Since Jinja 2.2, line-based comments are available as well.  For example, if
the line-comment prefix is configured to be <code class="docutils literal notranslate"><span class="pre">##</span></code>, everything from <code class="docutils literalnotranslate"><span class="pre">##</span></code> to
the end of the line is ignored (excluding the newline sign):</p> <p>The most powerful part of Jinja is template inheritance. Template inheritance
allows you to build a base “skeleton” template that contains all the common
elements of your site and defines <strong>blocks</strong> that child templates can override.</p> <p>Sounds complicated but is very basic. It’s easiest to understand it by starting
with an example.</p> <p>This template, which we’ll call <code class="docutils literal notranslate"><span class="pre">base.html</span></code>, defines a simple HTML skeleton
document that you might use for a simple two-column page. It’s the job of
“child” templates to fill the empty blocks with content:</p> <p>In this example, the <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></code> tags define four blocks that child templates
can fill in. All the <cite>block</cite> tag does is tell the template engine that a
child template may override those placeholders in the template.</p> <p><code class="docutils literal notranslate"><span class="pre">block</span></code> tags can be inside other blocks such as <code class="docutils literal notranslate"><span class="pre">if</span></code>, but they will
always be executed regardless of if the <code class="docutils literal notranslate"><span class="pre">if</span></code> block is actually
rendered.</p> <p>A child template might look like this:</p> <p>The <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></code> tag is the key here. It tells the template engine that
this template “extends” another template.  When the template system evaluates
this template, it first locates the parent.  The extends tag should be the
first tag in the template.  Everything before it is printed out normally and
may cause confusion.  For details about this behavior and how to take
advantage of it, see <a class="reference internal" href="../tricks/#null-default-fallback"><span class="std std-ref">Null-Default Fallback</span></a>. Also a block willalways be
filled in regardless of whether the surrounding condition is evaluated to be true
or false.</p> <p>The filename of the template depends on the template loader.  For example, the
<a class="reference internal" href="../api/#jinja2.FileSystemLoader" title="jinja2.FileSystemLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemLoader</span></code></a> allows you to access other templates by giving the
filename.  You can access templates in subdirectories with a slash:</p> <p>But this behavior can depend on the application embedding Jinja.  Note that
since the child template doesn’t define the <code class="docutils literal notranslate"><span class="pre">footer</span></code> block, the value from
the parent template is used instead.</p> <p>You can’t define multiple <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></code> tags with the same name in the
same template.  This limitation exists because a block tag works in “both”
directions.  That is, a block tag doesn’t just provide a placeholder to fill
- it also defines the content that fills the placeholder in the <em>parent</em>.
If there were two similarly-named <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></code> tags in a template,
that template’s parent wouldn’t know which one of the blocks’ content to use.</p> <p>If you want to print a block multiple times, you can, however, use the special
<cite>self</cite> variable and call the block with that name:</p> <p>It’s possible to render the contents of the parent block by calling <code class="docutils literal notranslate"><span class="pre">super()</span></code>.
This gives back the results of the parent block:</p> <p>In the case of multiple levels of <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></code>,
<code class="docutils literal notranslate"><span class="pre">super</span></code> references may be chained (as in <code class="docutils literal notranslate"><span class="pre">super.super()</span></code>)
to skip levels in the inheritance tree.</p> <p>For example:</p> <p>Rendering <code class="docutils literal notranslate"><span class="pre">child.tmpl</span></code> will give
<code class="docutils literal notranslate"><span class="pre">body:</span> <span class="pre">Hi</span> <span class="pre">from</span> <span class="pre">child.</span> <span class="pre">Hi</span> <span class="pre">from</span> <span class="pre">parent.</span></code></p> <p>Rendering <code class="docutils literal notranslate"><span class="pre">grandchild1.tmpl</span></code> will give
<code class="docutils literal notranslate"><span class="pre">body:</span> <span class="pre">Hi</span> <span class="pre">from</span> <span class="pre">grandchild1.</span></code></p> <p>Rendering <code class="docutils literal notranslate"><span class="pre">grandchild2.tmpl</span></code> will give
<code class="docutils literal notranslate"><span class="pre">body:</span> <span class="pre">Hi</span> <span class="pre">from</span> <span class="pre">grandchild2.</span> <span class="pre">Hi</span> <span class="pre">from</span> <span class="pre">parent.</span></code></p> <p>Jinja allows you to put the name of the block after the end tag for better
readability:</p> <p>However, the name after the <cite>endblock</cite> word must match the block name.</p> <p>Blocks can be nested for more complex layouts.  However, per default blocks
may not access variables from outer scopes:</p> <p>This example would output empty <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code>items because <cite>item</cite> is unavailable
inside the block.  The reason for this is that if the block is replaced by
a child template, a variable would appear that was not defined in the block or
passed to the context.</p> <p>Starting with Jinja 2.2, you can explicitly specify that variables are
available in a block by setting the block to “scoped” by adding the
modifier to a block declaration:</p> <p>When overriding a block, the <cite>scoped</cite> modifier does not have to be provided.</p> <p>Blocks can be marked as <code class="docutils literal notranslate"><span class="pre">required</span></code>. They must be overridden at some
point, but not necessarily by the direct child template. Required blocks
may only contain space and comments, and they cannot be rendered
directly.</p> <p>Rendering <code class="docutils literal notranslate"><span class="pre">page.txt</span></code> or <code class="docutils literal notranslate"><span class="pre">issue.txt</span></code> will raise
<code class="docutils literal notranslate"><span class="pre">TemplateRuntimeError</span></code> because they don’t override the <code class="docutils literal notranslate"><span class="pre">body</span></code> block.
Rendering <code class="docutils literal notranslate"><span class="pre">bug_report.txt</span></code> will succeed because it does override the
block.</p> <p>When combined with <code class="docutils literal notranslate"><span class="pre">scoped</span></code>, the <code class="docutils literal notranslate"><spanclass="pre">required</span></code> modifier must be placed
<em>after</em> the scoped modifier. Here are some valid examples:</p> <p><code class="docutils literal notranslate"><span class="pre">extends</span></code>, <code class="docutils literal notranslate"><span class="pre">include</span></code>, and <code class="docutils literal notranslate"><span class="pre">import</span></code> can take atemplate object
instead of the name of a template to load. This could be useful in some
advanced situations, since you can use Python code to load a template
first and pass it in to <code class="docutils literal notranslate"><span class="pre">render</span></code>.</p> <p>Note how <code class="docutils literal notranslate"><span class="pre">extends</span></code> is passed the variable with the template object
that was passed to <code class="docutils literal notranslate"><span class="pre">render</span></code>, instead of a string.</p> <p>When generating HTML from templates, there’s always a risk that a variable will
include characters that affect the resulting HTML. There are two approaches:</p> <p>manually escaping each variable; or</p> <p>automatically escaping everything by default.</p> <p>Jinja supports both. What is used depends on the application configuration.
The default configuration is no automatic escaping; for various reasons:</p> <p>Escaping everything except for safe values will also mean that Jinja is
escaping variables known to not include HTML (e.g. numbers, booleans)
which can be a huge performance hit.</p> <p>The information about the safety of a variable is very fragile.  It could
happen that by coercing safe and unsafe values, the return value is
double-escaped HTML.</p> <p>If manual escaping is enabled, it’s <strong>your</strong> responsibility to escape
variables if needed.  What to escape?  If you have a variable that
include any of the following chars (<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, or <code class="docutils literal notranslate"><span class="pre">"</span></code>) you
<strong>SHOULD</strong> escape it unless the variable contains well-formed and trusted
HTML.  Escaping works by piping the variable through the <code class="docutils literal notranslate"><span class="pre">|e</span></code> filter:</p> <p>When automatic escaping is enabled, everything is escaped by default except
for values explicitly marked as safe.  Variables and expressions
can be marked as safe either in:</p> <p>The context dictionary by the application with
<code class="xref py py-class docutils literal notranslate"><span class="pre">markupsafe.Markup</span></code></p> <p>The template, with the <code class="docutils literal notranslate"><span class="pre">|safe</span></code> filter.</p> <p>If a string that you marked safe is passed through other Python code
that doesn’t understand that mark, it may get lost. Be aware of when
your data is marked safe and how it is processed before arriving at the
template.</p> <p>If a value has been escaped but is not marked safe, auto-escaping will
still take place and result in double-escaped characters. If you know
you have data that is already safe but not marked, be sure to wrap it in
<code class="docutils literal notranslate"><span class="pre">Markup</span></code> or use the <code class="docutils literal notranslate"><span class="pre">|safe</span></code> filter.</p> <p>Jinja functions (macros, <cite>super</cite>, <cite>self.BLOCKNAME</cite>) always return template
data that is marked as safe.</p> <p>String literals in templates with automatic escaping are considered
unsafe because native Python strings are not safe.</p> <p>A control structure refers to all those things that control the flow of a
program - conditionals (i.e. if/elif/else), for-loops, as well as things like
macros and blocks.  With the default syntax, control structures appear inside
<code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></code> blocks.</p> <p>Loop over each item in a sequence.  For example, to display a list of users
provided in a variable called <cite>users</cite>:</p> <p>As variables in templates retain their object properties, it is possible to
iterate over containers like <cite>dict</cite>:</p> <p>Python dicts may not be in the order you want to display them in. If
order matters, use the <code class="docutils literal notranslate"><span class="pre">|dictsort</span></code> filter.</p> <p>Inside of a for-loop block, you can access some special variables:</p> <p>Variable</p> <p>Description</p> <p><cite>loop.index</cite></p> <p>The current iteration of the loop. (1 indexed)</p> <p><cite>loop.index0</cite></p> <p>The current iteration of the loop. (0 indexed)</p> <p><cite>loop.revindex</cite></p> <p>The number of iterations from the end of the loop
(1 indexed)</p> <p><cite>loop.revindex0</cite></p> <p>The number of iterations from the end of the loop
(0 indexed)</p> <p><cite>loop.first</cite></p> <p>True if first iteration.</p> <p><cite>loop.last</cite></p> <p>True if last iteration.</p> <p><cite>loop.length</cite></p> <p>The number of items in the sequence.</p> <p><cite>loop.cycle</cite></p> <p>A helper function to cycle between a list of
sequences.  See the explanation below.</p> <p><cite>loop.depth</cite></p> <p>Indicates how deep in a recursive loop
the rendering currently is.  Starts at level 1</p> <p><cite>loop.depth0</cite></p> <p>Indicates how deep in a recursive loop
the rendering currently is.  Starts at level 0</p> <p><cite>loop.previtem</cite></p> <p>The item from the previous iteration of the loop.
Undefined during the first iteration.</p> <p><cite>loop.nextitem</cite></p> <p>The item from the following iteration of the loop.
Undefined during the last iteration.</p> <p><cite>loop.changed(*val)</cite></p> <p>True if previously called with a different value
(or not called at all).</p> <p>Within a for-loop, it’s possible to cycle among a list of strings/variables
each time through the loop by using the special <cite>loop.cycle</cite> helper:</p> <p>Since Jinja 2.1, an extra <cite>cycle</cite> helper exists that allows loop-unbound
cycling.  For more information, have a look at the <a class="reference internal" href="#builtin-globals"><span class="std std-ref">List of Global Functions</span></a>.</p> <p id="loop-filtering">Unlike in Python, it’s not possible to <cite>break</cite> or <cite>continue</cite> in a loop.  You
can, however, filter the sequence during iteration, which allows you to skip
items.  The following example skips all the users which are hidden:</p> <p>The advantage is that the special <cite>loop</cite> variable will count correctly; thus
not counting the users not iterated over.</p> <p>If no iteration took place because the sequence was empty or the filtering
removed all the items from the sequence, you can render a default block
by using <cite>else</cite>:</p> <p>Note that, in Python, <cite>else</cite> blocks are executed whenever the corresponding
loop <strong>did not</strong> <cite>break</cite>.  Since Jinja loops cannot <cite>break</cite> anyway,
a slightly different behavior of the <cite>else</cite> keyword was chosen.</p> <p>It is also possible to use loops recursively.  This is useful if you are
dealing with recursive data such as sitemaps or RDFa.
To use loops recursively, you basically have to add the <cite>recursive</cite> modifier
to the loop definition and call the <cite>loop</cite> variable with the new iterable
where you want to recurse.</p> <p>The following example implements a sitemap with recursive loops:</p> <p>The <cite>loop</cite> variable always refers to the closest (innermost) loop. If we
have more than one level of loops, we can rebind the variable <cite>loop</cite> by
writing <cite>{% set outer_loop = loop %}</cite> after the loop that we want to
use recursively. Then, we can call it using <cite>{{ outer_loop(…) }}</cite></p> <p>Please note that assignments in loops will be cleared at the end of the
iteration and cannot outlive the loop scope.  Older versions of Jinja had
a bug where in some circumstances it appeared that assignments would work.
This is not supported.  See <a class="reference internal" href="#assignments"><span class="std std-ref">Assignments</span></a> for more information about
how to deal with this.</p> <p>If all you want to do is check whether some value has changed since the
last iteration or will change in the next iteration, you can use
and <cite>nextitem</cite>:</p> <p>If you only care whether the value changed at all, using <cite>changed</cite> is even
easier:</p> <p>The <cite>if</cite> statement in Jinja is comparable with the Python if statement.
In the simplest form, you can use it to test if a variable is defined, not
empty and not false:</p> <p>For multiple branches, <cite>elif</cite> and <cite>else</cite> can be used like in Python.  You can
use more complex <a class="reference internal" href="#expressions"><span class="std std-ref">Expressions</span></a> there, too:</p> <p>If can also be used as an <a class="reference internal" href="#if-expression"><span class="std std-ref">inline expression</span></a> and for
<a class="reference internal" href="#loop-filtering"><span class="std std-ref">loop filtering</span></a>.</p> <p>Macros are comparable with functions in regular programming languages.  They
are useful to put often used idioms into reusable functions to not repeat
yourself (“DRY”).</p> <p>Here’s a small example of a macro that renders a form element:</p> <p>The macro can then be called like a function in the namespace:</p> <p>If the macro was defined in a different template, you have to
<a class="reference internal" href="#import"><span class="std std-ref">import</span></a> it first.</p> <p>Inside macros, you have access to three special variables:</p><p>If more positional arguments are passed to the macro than accepted by the
macro, they end up in the special <cite>varargs</cite> variable as a list of values.</p> <p>Like <cite>varargs</cite> but for keyword arguments.  All unconsumed keyword
arguments are stored in this special variable.</p> <p>If the macro was called from a <a class="reference internal" href="#call"><span class="std std-ref">call</span></a> tag, the caller is stored
in this variable as a callable macro.</p> <p>Macros also expose some of their internal details.  The following attributes
are available on a macro object:</p> <p>The name of the macro.  <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">input.name</span> <span class="pre">}}</span></code> will print <code class="docutils literal notranslate"><span class="pre">input</span></code>.</p> <p>A tuple of the names of arguments the macro accepts.</p> <p>This is <cite>true</cite> if the macro accepts extra keyword arguments (i.e.: accesses
the special <cite>kwargs</cite> variable).</p> <p>This is <cite>true</cite> if the macro accepts extra positional arguments (i.e.:
accesses the special <cite>varargs</cite> variable).</p> <p>This is <cite>true</cite> if the macro accesses the special <cite>caller</cite> variable and may
be called from a <a class="reference internal" href="#call"><span class="std std-ref">call</span></a> tag.</p> <p>If a macro name starts with an underscore, it’s not exported and can’t
be imported.</p> <p>In some cases it can be useful to pass a macro to another macro.  For this
purpose, you can use the special <cite>call</cite> block.  The following example shows
a macro that takes advantage of the call functionality and how it can be
used:</p> <p>It’s also possible to pass arguments back to the call block.  This makes it
useful as a replacement for loops.  Generally speaking, a call block works
exactly like a macro without a name.</p> <p>Here’s an example of how a call block can be used with arguments:</p> <p>Filter sections allow you to apply regular Jinja filters on a block of
template data.  Just wrap the code in the special <cite>filter</cite> section:</p> <p>Inside code blocks, you can also assign values to variables.  Assignments at
top level (outside of blocks, macros or loops) are exported from the template
like top level macros and can be imported by other templates.</p> <p>Assignments use the <cite>set</cite> tag and can have multiple targets:</p> <p class="admonition-title">Scoping Behavior</p> <p>Please keep in mind that it is not possible to set variables inside a
block and have them show up outside of it.  This also applies to
loops.  The only exception to that rule are if statements which do not
introduce a scope.  As a result the following template is not going
to do what you might expect:</p> <p>It is not possible with Jinja syntax to do this.  Instead use
alternative constructs like the loop else block or the special
variable:</p> <p>As of version 2.10 more complex use cases can be handled using namespace
objects which allow propagating of changes across scopes:</p> <p>Note that the <code class="docutils literal notranslate"><span class="pre">obj.attr</span></code> notation in the <cite>set</cite> tag is only allowed for
namespace objects; attempting to assign an attribute on any other object
will raise an exception.</p> <p><span class="versionmodified added">New in version 2.10: </span>Added support for namespace objects</p> <p><span class="versionmodified added">New in version 2.8.</span></p> <p>Starting with Jinja 2.8, it’s possible to also use block assignments to
capture the contents of a block into a variable name.  This can be useful
in some situations as an alternative for macros.  In that case, instead of
using an equals sign and a value, you just write the variable name and then
everything until <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">endset</span> <span class="pre">%}</span></code> is captured.</p> <p>Example:</p> <p>The <cite>navigation</cite> variable then contains the navigation HTML source.</p> <p><span class="versionmodified changed">Changed in version 2.10.</span></p> <p>Starting with Jinja 2.10, the block assignment supports filters.</p> <p>Example:</p> <p>The <cite>extends</cite> tag can be used to extend one template from another.  You can
have multiple <cite>extends</cite> tags in a file, but only one of them may be executed at
a time.</p> <p>See the section about <a class="reference internal" href="#template-inheritance"><span class="std std-ref">Template Inheritance</span></a> above.</p> <p>Blocks are used for inheritance and act as both placeholders and replacements
at the same time.  They are documented in detail in the
<a class="reference internal" href="#template-inheritance"><span class="std std-ref">Template Inheritance</span></a> section.</p> <p>The <cite>include</cite> tag is useful to include a template and return the
rendered contents of that file into the current namespace:</p> <p>Included templates have access to the variables of the active context by
default.  For more details about context behavior of imports and includes,
see <a class="reference internal" href="#import-visibility"><span class="std std-ref">Import Context Behavior</span></a>.</p> <p>From Jinja 2.2 onwards, you can mark aninclude with <code class="docutils literal notranslate"><span class="pre">ignore</span> <span class="pre">missing</span></code>; in
which case Jinja will ignore the statement if the template to be included
does not exist.  When combined with <code class="docutils literal notranslate"><span class="pre">with</span></code> or <code class="docutils literal notranslate"><span class="pre">without</span> <span class="pre">context</span></code>, it must
be placed <em>before</em> the context visibility statement.  Here are some valid
examples:</p> <p><span class="versionmodified added">New in version 2.2.</span></p> <p>You can also provide a list of templates that are checked for existence
before inclusion.  The first template that exists will be included.  If
<cite>ignore missing</cite> is given, it will fall back to rendering nothing if
none of the templates exist, otherwise it will raise an exception.</p> <p>Example:</p> <p><span class="versionmodified changed">Changed in version 2.4: </span>If a template object was passed to the template context, you can
include that object using <cite>include</cite>.</p> <p>Jinja supports putting often used code into macros.  These macros can go into
different templates and get imported from there.  This works similarly to the
import statements in Python.  It’s important to know that imports are cached
and imported templates don’t have access to the current template variables,
just the globals by default.  For more details about context behavior of
imports and includes, see <a class="reference internal" href="#import-visibility"><span class="std std-ref">Import Context Behavior</span></a>.</p> <p>There are two ways to import templates.  You can import a complete template
into a variable or request specific macros / exported variables from it.</p> <p>Imagine we have a helper module that renders forms (called <cite>forms.html</cite>):</p><p>The easiest and most flexible way to access a template’s variables
and macros is to import the whole template module into a variable.
That way, you can access the attributes:</p> <p>Alternatively, you can import specific names from a template into the current
namespace:</p> <p>Macros and variables starting with one or more underscores are private and
cannot be imported.</p> <p><span class="versionmodified changed">Changed in version 2.4: </span>If a template object was passed to the template context, you can
import from that object.</p> <p>By default, included templates are passed the current context and imported
templates are not.  The reason for this is that imports, unlike includes,
are cached; as imports are often used just as a module that holds macros.
or <cite>without context</cite> to the import/include directive, the current context
can be passed to the template and caching is disabled automatically.</p> <p>Here are two examples:</p> <p class="admonition-title">Note</p> <p>In Jinja 2.0, the contextthat was passed to the included template
did not include variables defined in the template.  As a matter of
fact, this did not work:</p> <p>The included template <code class="docutils literal notranslate"><span class="pre">render_box.html</span></code> is <em>not</em> able toaccess
<cite>box</cite> in Jinja 2.0. As of Jinja 2.1, <code class="docutils literal notranslate"><span class="pre">render_box.html</span></code> <em>is</em> able
to do so.</p> <p>Jinja allows basic expressions everywhere.  These work very similarly to
regular Python; even if you’re not working with Python
you should feel comfortable with it.</p> <p>The simplest form of expressions are literals.  Literals are representations
for Python objects such as strings and numbers.  The following literals exist:</p> <p>Everything between two double or single quotes is a string.  They are
useful whenever you need a string in the template (e.g. as
arguments to function calls and filters, or just to extend or include a
template).</p> <p>Integers are whole numbers without a decimal part. The ‘_’ character
can be used to separate groups for legibility.</p> <p>Floating point numbers can be written using a ‘.’ as a decimal mark.
They can also be written in scientific notation with an upper or
lower case ‘e’ to indicate the exponent part. The ‘_’ character can
be used to separate groups for legibility, but cannot be used in the
exponent part.</p> <p>Everything between two brackets is a list.  Lists are useful for storing
sequential data to be iterated over.  For example, you can easily
create a list of links using lists and tuples for (and with) a for loop:</p> <p>Tuples are like lists that cannot be modified (“immutable”).  If a tuple
only has one item, it must be followed by a comma (<code class="docutils literal notranslate"><span class="pre">('1-tuple',)</span></code>).
Tuples are usually used to represent items of two or more elements.
See the list example above for more details.</p> <p>A dict in Python is a structure that combines keys and values.  Keys must
be unique and always have exactly one value.  Dicts are rarely used in
templates; they are useful in some rare cases such as the
filter.</p> <p><code class="docutils literal notranslate"><span class="pre">true</span></code> is always true and <code class="docutils literal notranslate"><span class="pre">false</span></code> is always false.</p> <p class="admonition-title">Note</p> <p>The special constants <cite>true</cite>, <cite>false</cite>, and <cite>none</cite> are indeed lowercase.
Because that caused confusion in the past, (<cite>True</cite> used to expand
to an undefined variable that was considered false),
all three can now also be written in title case
(<cite>True</cite>, <cite>False</cite>, and <cite>None</cite>).
However, for consistency, (all Jinja identifiers are lowercase)
you should use the lowercase versions.</p> <p>Jinja allows you to calculate with values.  This is rarely useful in templates
but exists for completeness’ sake.  The following operators are supported:</p> <p>Adds two objects together. Usually the objects are numbers, but if both are
strings or lists, you can concatenate them this way.  This, however, is not
the preferred way to concatenate strings!  For string concatenation, have
a look-see at the <code class="docutils literal notranslate"><span class="pre">~</span></code> operator.  <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">+</span> <span class="pre">1</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p> <p>Subtract the second number from the first one.  <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">3</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p> <p>Divide two numbers.  The return value will be a floating point number.
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">0.5</span> <span class="pre">}}</span></code>.</p> <p>Divide two numbers and return the truncated integer result.
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">20</span> <span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p> <p>Calculate the remainder of an integer division.  <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">11</span> <span class="pre">%</span> <span class="pre">7</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p> <p>Multiply the left operand with the right one.  <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">}}</span></code> would
return <code class="docutils literal notranslate"><span class="pre">4</span></code>.  This can also be used to repeat a string multiple times.
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">'='</span> <span class="pre">*</span> <span class="pre">80</span> <span class="pre">}}</span></code> would print a bar of 80 equal signs.</p> <p>Raise the left operand to the power of the right operand.
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">2**3</span> <span class="pre">}}</span></code> would return <code class="docutils literal notranslate"><span class="pre">8</span></code>.</p> <p>Unlike Python, chained pow is evaluated left to right.
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">3**3**3</span> <span class="pre">}}</span></code> is evaluated as <code class="docutils literal notranslate"><span class="pre">(3**3)**3</span></code> in Jinja, but would
be evaluated as <code class="docutils literal notranslate"><span class="pre">3**(3**3)</span></code> in Python. Use parentheses in Jinja
to be explicit about what order you want. It is usually preferable
to do extended math in Python and pass the results to
rather than doing it in the template.</p> <p>This behavior may be changed in the future to match Python, if it’s
possible to introduce an upgrade path.</p> <p>Compares two objects for equality.</p> <p>Compares two objects for inequality.</p> <p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the left hand side is greater than the right hand side.</p> <p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the left hand side is greater or equal to the right hand side.</p> <p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the left hand side is lower than the right hand side.</p> <p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the left hand side is lower or equal to the right hand side.</p> <p>For <code class="docutils literal notranslate"><span class="pre">if</span></code> statements, <code class="docutils literal notranslate"><span class="pre">for</span></code> filtering, and <code class="docutils literal notranslate"><span class="pre">if</span></code> expressions, it can be useful to
combine multiple expressions:</p> <p>Return true if the left and the right operand are true.</p> <p>Return true if the left or the right operand are true.</p> <p>negatea statement (see below).</p> <p>Parentheses group an expression.</p> <p class="admonition-title">Note</p> <p>The <code class="docutils literal notranslate"><span class="pre">is</span></code> and <code class="docutils literal notranslate"><span class="pre">in</span></code> operators support negation using an infix notation,
too:
and <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">foo</span> <span class="pre">in</span> <span class="pre">bar</span></code>.  All other expressions require a prefix notation:
<code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">(foo</span> <span class="pre">and</span> <span class="pre">bar).</span></code></p> <p>The following operators are very useful but don’t fit into any of the other
two categories:</p> <p>Perform a sequence / mapping containment test.  Returns true if the left
operand is contained in the right.  <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">in</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span> <span class="pre">}}</span></code> would, for
example, return true.</p> <p>Performs a <a class="reference internal" href="#tests"><span class="std std-ref">test</span></a>.</p> <p>Applies a <a class="reference internal" href="#filters"><span class="std std-ref">filter</span></a>.</p> <p>Converts all operands into strings and concatenates them.</p> <p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">"Hello</span> <span class="pre">"</span> <span class="pre">~</span> <span class="pre">name</span> <span class="pre">~</span> <span class="pre">"!"</span> <span class="pre">}}</span></code> would return (assuming <cite>name</cite> is set
to <code class="docutils literal notranslate"><span class="pre">'John'</span></code>) <code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">John!</span></code>.</p> <p>Call a callable: <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">post.render()</span> <span class="pre">}}</span></code>.  Inside of the parentheses you
can use positional arguments and keyword arguments like in Python:</p> <p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">post.render(user,</span> <span class="pre">full=true)</span> <span class="pre">}}</span></code>.</p> <p>Get an attribute of an object.  (See <a class="reference internal" href="#variables"><span class="std std-ref">Variables</span></a>)</p> <p>It is also possible to use inline <cite>if</cite> expressions.  These are useful in some
situations.  For example, you can use this to extend from one template if a
variable is defined, otherwise from the default layout template:
<span class="pre">something</span> <span class="pre">else&gt;</span></code>.</p> <p>The <cite>else</cite> part is optional.  If not provided, the else block implicitly
evaluates into an
in the environment is set to):</p> <p>You can also use any of the methods defined on a variable’s type.
The value returned from the method invocation is used as the value of the expression.
Here is an example that uses methods defined on strings (where <code class="docutils literal notranslate"><span class="pre">page.title</span></code> is a string):</p> <p>This works for methods on user-defined types. For example, if variable
<code class="docutils literal notranslate"><span class="pre">f</span></code> of type <code class="docutils literal notranslate"><span class="pre">Foo</span></code> has a method <code class="docutils literal notranslate"><span class="pre">bar</span></code> defined on it, you can do the
following:</p> <p>Operator methods also work as expected. For example, <code class="docutils literal notranslate"><span class="pre">%</span></code> implements
printf-style for strings:</p> <p>Although you should prefer the <code class="docutils literal notranslate"><span class="pre">.format</span></code> method for that case (which
is a bit contrived in the context of rendering a template):</p> <p><a class="reference internal" href="#jinja-filters.abs" title="jinja-filters.abs"><code class="xref py py-func docutils literal notranslate"><span class="pre">abs()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.float" title="jinja-filters.float"><code class="xref py py-func docutils literal notranslate"><span class="pre">float()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.lower" title="jinja-filters.lower"><code class="xref py py-func docutils literal notranslate"><span class="pre">lower()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.round" title="jinja-filters.round"><code class="xref py py-func docutils literal notranslate"><span class="pre">round()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.tojson" title="jinja-filters.tojson"><code class="xref py py-func docutils literal notranslate"><span class="pre">tojson()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.attr" title="jinja-filters.attr"><code class="xref py py-func docutils literal notranslate"><span class="pre">attr()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.forceescape" title="jinja-filters.forceescape"><code class="xref py py-func docutils literal notranslate"><span class="pre">forceescape()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.map" title="jinja-filters.map"><code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.safe" title="jinja-filters.safe"><code class="xref py py-func docutils literal notranslate"><span class="pre">safe()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.trim" title="jinja-filters.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.batch" title="jinja-filters.batch"><code class="xref py py-func docutils literal notranslate"><span class="pre">batch()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.format" title="jinja-filters.format"><code class="xref py py-func docutils literal notranslate"><span class="pre">format()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.max" title="jinja-filters.max"><code class="xref py py-func docutils literal notranslate"><span class="pre">max()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.select" title="jinja-filters.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.truncate" title="jinja-filters.truncate"><code class="xref py py-func docutils literal notranslate"><span class="pre">truncate()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.capitalize" title="jinja-filters.capitalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">capitalize()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.groupby" title="jinja-filters.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">groupby()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.min" title="jinja-filters.min"><code class="xref py py-func docutilsliteral notranslate"><span class="pre">min()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.selectattr" title="jinja-filters.selectattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">selectattr()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.unique" title="jinja-filters.unique"><code class="xref py py-func docutils literal notranslate"><span class="pre">unique()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.center" title="jinja-filters.center"><code class="xref py py-func docutils literal notranslate"><span class="pre">center()</span></code></a></p><p><a class="reference internal" href="#jinja-filters.indent" title="jinja-filters.indent"><code class="xref py py-func docutils literal notranslate"><span class="pre">indent()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.pprint" title="jinja-filters.pprint"><code class="xref py py-func docutils literal notranslate"><span class="pre">pprint()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.slice" title="jinja-filters.slice"><code class="xref py py-func docutils literal notranslate"><span class="pre">slice()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.upper" title="jinja-filters.upper"><code class="xref py py-func docutils literal notranslate"><span class="pre">upper()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.default" title="jinja-filters.default"><code class="xref py py-func docutils literal notranslate"><span class="pre">default()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.int" title="jinja-filters.int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.random" title="jinja-filters.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.sort" title="jinja-filters.sort"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.urlencode" title="jinja-filters.urlencode"><code class="xref py py-func docutils literal notranslate"><span class="pre">urlencode()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.dictsort" title="jinja-filters.dictsort"><code class="xref py py-func docutils literal notranslate"><span class="pre">dictsort()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.join" title="jinja-filters.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">join()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.reject" title="jinja-filters.reject"><code class="xref py py-func docutils literal notranslate"><span class="pre">reject()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.string" title="jinja-filters.string"><code class="xref py py-func docutils literal notranslate"><spanclass="pre">string()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.urlize" title="jinja-filters.urlize"><code class="xref py py-func docutils literal notranslate"><span class="pre">urlize()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.escape" title="jinja-filters.escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">escape()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.last" title="jinja-filters.last"><code class="xref py py-func docutils literal notranslate"><span class="pre">last()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.rejectattr" title="jinja-filters.rejectattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">rejectattr()</span></code></a></p><p><a class="reference internal" href="#jinja-filters.striptags" title="jinja-filters.striptags"><code class="xref py py-func docutils literal notranslate"><span class="pre">striptags()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.wordcount" title="jinja-filters.wordcount"><code class="xref py py-func docutils literal notranslate"><span class="pre">wordcount()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.filesizeformat" title="jinja-filters.filesizeformat"><code class="xref py py-func docutils literal notranslate"><span class="pre">filesizeformat()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.length" title="jinja-filters.length"><code class="xref py py-func docutils literal notranslate"><span class="pre">length()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.replace" title="jinja-filters.replace"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.sum" title="jinja-filters.sum"><code class="xref py py-func docutils literal notranslate"><span class="pre">sum()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.wordwrap" title="jinja-filters.wordwrap"><code class="xref py py-func docutils literal notranslate"><span class="pre">wordwrap()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.first" title="jinja-filters.first"><code class="xref py py-func docutils literal notranslate"><span class="pre">first()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.list" title="jinja-filters.list"><code class="xref py py-func docutils literal notranslate"><span class="pre">list()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.reverse" title="jinja-filters.reverse"><code class="xref py py-func docutils literal notranslate"><span class="pre">reverse()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.title" title="jinja-filters.title"><code class="xref py py-func docutils literal notranslate"><span class="pre">title()</span></code></a></p> <p><a class="reference internal" href="#jinja-filters.xmlattr" title="jinja-filters.xmlattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">xmlattr()</span></code></a></p> <p>Return the absolute value of the argument.</p> <p>Get an attribute of an object.  <code class="docutils literal notranslate"><span class="pre">foo|attr("bar")</span></code> works like
<code class="docutils literal notranslate"><span class="pre">foo.bar</span></code> just that always an attribute is returned and items are not
looked up.
just the other way round. It returns a list of lists with the
given number of items. If you provide a second parameter this
is used to fill up missing items. See this example:</p> <p>Capitalize a value. The first character will be uppercase, all others
lowercase.</p> <p>Centers the value in a field of a given width.</p> <p>If the value is undefined it will return the passed default value,
otherwise the value of the variable:</p> <p>This will output the value of <code class="docutils literal notranslate"><span class="pre">my_variable</span></code> if the variable was
defined, otherwise <code class="docutils literal notranslate"><span class="pre">'my_variable</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined'</span></code>. If you want
to use default with variables that evaluate to false you have to
set the second parameter to <cite>true</cite>:</p> <p><span class="versionmodified changed">Changed in version 2.11: </span>It’s now possible to configure the <a class="reference internal" href="../api/#jinja2.Environment" title="jinja2.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a> with
<a class="reference internal" href="../api/#jinja2.ChainableUndefined" title="jinja2.ChainableUndefined"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainableUndefined</span></code></a> to make the <cite>default</cite> filter work
on nested elements and attributes that may contain undefined values
in the chain without getting an <a class="reference internal" href="../api/#jinja2.UndefinedError" title="jinja2.UndefinedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UndefinedError</span></code></a>.</p> <p><code class="docutils literal notranslate"><span class="pre">d</span></code></p> <p>Sort a dict and yield (key, value) pairs. Python dicts may not
be in the order you want to display them in, so sort them first.</p> <p>Replace the characters <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">'</span></code>, and <code class="docutils literal notranslate"><span class="pre">"</span></code> in the string with HTML-safe sequences. Use this if you need to display text that might contain such characters in HTML.</p> <p>If the object has an <code class="docutils literal notranslate"><span class="pre">__html__</span></code> method, it is called and the return value is assumed to already be safe for HTML.</p> <p><strong>s</strong> – An object to be converted to a string and escaped.</p> <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Markup</span></code> string with the escaped text.</p> <p><code class="docutils literal notranslate"><span class="pre">e</span></code></p> <p>Format the value like a ‘human-readable’ file size (i.e. 13 kB,
4.1 MB, 102 Bytes, etc).  Per default decimal prefixes are used (Mega,
Giga, etc.), if the second parameter is set to <cite>True</cite> the binary
prefixes are used (Mebi, Gibi).</p> <p>Return the first item of a sequence.</p> <p>Convert the value into a floating point number. If the
conversion doesn’t work it will return <code class="docutils literal notranslate"><span class="pre">0.0</span></code>. You can
override this default using the first parameter.</p> <p>Enforce HTML escaping.  This will probably double escape variables.</p> <p>Apply the given values to a <a class="reference external" href="https://docs.python.org/library/stdtypes.html#printf-style-string-formatting">printf-style</a> format string, like
<code class="docutils literal notranslate"><span class="pre">string</span> <span class="pre">%</span> <span class="pre">values</span></code>.</p> <p>In most cases it should be more convenient and efficient to use the
<code class="docutils literal notranslate"><span class="pre">%</span></code> operator or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format" title="(in Python v3.10)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a>.</p> <p>Group a sequence of objects by an attribute using Python’s
<a class="reference external" href="https://docs.python.org/3/library/itertools.html#itertools.groupby" title="(in Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.groupby()</span></code></a>. The attribute can use dot notation for
nested access, like <code class="docutils literal notranslate"><span class="pre">"address.city"</span></code>. Unlike Python’s <code class="docutils literal notranslate"><span class="pre">groupby</span></code>,
the values are sorted first so only one group is returned for each
unique value.</p> <p>For example, a list of <code class="docutils literal notranslate"><span class="pre">User</span></code> objects with a <code class="docutils literalnotranslate"><span class="pre">city</span></code> attribute
can be rendered in groups. In this example, <code class="docutils literal notranslate"><span class="pre">grouper</span></code> refers to
the <code class="docutils literal notranslate"><span class="pre">city</span></code> value of the group.</p> <p><code class="docutils literal notranslate"><span class="pre">groupby</span></code> yields namedtuples of <code class="docutils literal notranslate"><span class="pre">(grouper,</span> <span class="pre">list)</span></code>, which
can be used instead of the tuple unpacking above. <code class="docutils literal notranslate"><span class="pre">grouper</span></code> is the
value of the attribute, and <code class="docutils literal notranslate"><span class="pre">list</span></code> is the items with that value.</p> <p>You can specify a <codeclass="docutils literal notranslate"><span class="pre">default</span></code> value to use if an object in the list
does not have the given attribute.</p> <p><span class="versionmodified changed">Changed in version 3.0: </span>Added the <code class="docutils literal notranslate"><span class="pre">default</span></code> parameter.</p> <p><span class="versionmodified changed">Changed in version 2.6: </span>The attribute supports dot notation for nestedaccess.</p> <p>Return a copy of the string with each line indented by 4 spaces. The
first line and blank lines are not indented by default.</p> <p><strong>width</strong> – Number of spaces, or a string, to indent by.</p> <p><strong>first</strong> – Don’t skip indenting the first line.</p> <p><strong>blank</strong> – Don’t skip indenting empty lines.</p> <p><span class="versionmodified changed">Changed in version 3.0: </span><code class="docutils literal notranslate"><span class="pre">width</span></code> can be a string.</p> <p><span class="versionmodified changed">Changed in version 2.10: </span>Blank lines are not indented by default.</p> <p>Rename the <code class="docutils literal notranslate"><span class="pre">indentfirst</span></code> argument to <code class="docutils literal notranslate"><span class="pre">first</span></code>.</p> <p>Convert the value into an integer. If the
conversion doesn’t work it will return <code class="docutils literal notranslate"><span class="pre">0</span></code>. You can
override this default using the first parameter. You
can also override the default base (10) in the second
parameter, which handles input with prefixes such as
0b, 0o and 0x for bases 2, 8 and 16 respectively.
The base is ignored for decimal numbers and non-string values.</p> <p>Return a string which is the concatenation of the strings in the
sequence. The separator between elements is an empty string per
default, you can define it with the optional parameter:</p> <p>It is also possible to join certain attributes of an object:</p> <p><span class="versionmodified added">New in version 2.6: </span>The <cite>attribute</cite> parameter was added.</p> <p>Return the last item of a sequence.</p> <p>Note: Does not work with generators. You may want to explicitly
convert it to a list:</p> <p>Return the number of items in a container.</p> <p><code class="docutils literal notranslate"><span class="pre">count</span></code></p> <p>Convert the value into a list.  If it was a string the returned list
will be a list of characters.</p> <p>Convert a value to lowercase.</p> <p>Applies a filter on a sequence of objects or looks up an attribute.
This is useful when dealing with lists of objects but you are really
only interested in a certain value of it.</p> <p>The basic usage is mapping on an attribute.  Imagine you have a list
of users but you are only interested in a list of usernames:</p> <p>You can specify a <code class="docutils literal notranslate"><span class="pre">default</span></code>value to use if an object in the list
does not have the given attribute.</p> <p>Alternatively you can let it invoke a filter by passing the name of the
filter and the arguments afterwards.  A good example would be applying a
text conversion filter on a sequence:</p> <p>Similar to a generator comprehension such as:</p> <p><span class="versionmodified changed">Changed in version 2.11.0: </span>Added the <code class="docutils literal notranslate"><span class="pre">default</span></code> parameter.</p> <p><span class="versionmodified added">New in version 2.7.</span></p> <p>Return the largest item from the sequence.</p> <p><strong>case_sensitive</strong> – Treat upper and lower case strings as distinct.</p> <p><strong>attribute</strong> – Get the object with the max value of this attribute.</p> <p>Return the smallest item from the sequence.</p> <p><strong>case_sensitive</strong> – Treat upperand lower case strings as distinct.</p> <p><strong>attribute</strong> – Get the object with the min value of this attribute.</p> <p>Pretty print a variable. Useful for debugging.</p> <p>Return a random item from the sequence.</p> <p>Filters a sequence of objects by applying a test to each object,
and rejecting the objects with the test succeeding.</p> <p>If no test is specified, each object will be evaluated as a boolean.</p> <p>Example usage:</p> <p>Similar to a generator comprehension such as:</p> <p><span class="versionmodified added">New in version 2.7.</span></p> <p>Filters a sequence of objects by applying a test to the specified
attribute of each object, and rejecting the objects with the test
succeeding.</p> <p>If no test is specified, the attribute’s value will be evaluated as
a boolean.</p> <p>Similar to a generator comprehension such as:</p> <p><span class="versionmodified added">New in version 2.7.</span></p> <p>Return a copy of the value with all occurrences of a substring
replaced with a new one. The first argument is the substring
that should be replaced, the second is the replacement string.
If the optional third argument <code class="docutils literal notranslate"><span class="pre">count</span></code> is given, only the first
<code class="docutils literal notranslate"><span class="pre">count</span></code> occurrences are replaced:</p> <p>Reverse the object or return an iterator that iteratesover it the other
way round.</p> <p>Round the number to a given precision. The first
parameter specifies the precision (default is <code class="docutils literal notranslate"><span class="pre">0</span></code>), the
second the rounding method:</p> <p><code class="docutils literal notranslate"><span class="pre">'common'</span></code> rounds either up or down</p> <p><code class="docutils literal notranslate"><span class="pre">'ceil'</span></code> always rounds up</p> <p><code class="docutils literal notranslate"><span class="pre">'floor'</span></code> always rounds down</p> <p>If you don’t specify a method <code class="docutils literal notranslate"><span class="pre">'common'</span></code> is used.</p> <p>Note that even if rounded to 0 precision, a float is returned.  If
you need a real integer, pipe it through <cite>int</cite>:</p> <p>Mark the value as safe which means that in an environment with automatic
escaping enabled this variable will not be escaped.</p> <p>Filters a sequence of objects by applying a test to each object,
and only selecting the objects with the test succeeding.</p> <p>If no test is specified, each object will be evaluated as a boolean.</p> <p>Example usage:</p> <p>Similar to a generator comprehension such as:</p> <p><span class="versionmodified added">New in version 2.7.</span></p> <p>Filters a sequence of objects by applying a test to the specified
attribute of each object, and only selecting the objects with the
test succeeding.</p> <p>If no test is specified, the attribute’s value will be evaluated as
a boolean.</p> <p>Example usage:</p> <p>Similar to a generator comprehension such as:</p> <p><span class="versionmodified added">New in version 2.7.</span></p> <p>Slicean iterator and return a list of lists containing
those items. Useful if you want to create a div containing
three ul tags that represent columns:</p> <p>If you pass it a second argument it’s used to fill missing
values on the last iteration.</p> <p>Sort an iterable using Python’s <a class="reference external" href="https://docs.python.org/3/library/functions.html#sorted" title="(in Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a>.</p> <p><strong>reverse</strong> – Sort descending instead of ascending.</p> <p><strong>case_sensitive</strong> – When sorting strings, sort upper and lower
case separately.</p> <p><strong>attribute</strong> – When sorting objects or dicts, an attribute or
key to sort by. Can use dot notation like <code class="docutils literal notranslate"><span class="pre">"address.city"</span></code>.
Can be a list of attributes like <code class="docutils literal notranslate"><span class="pre">"age,name"</span></code>.</p> <p>The sort is stable, it does not change the relative order of
elements that compare equal. This makes it is possible to chain
sorts on different attributes and ordering.</p> <p>As a shortcut to chaining when the direction is the same for all
attributes, pass a comma separate list of attributes.</p> <p><span class="versionmodified changed">Changed in version 2.11.0: </span>The <code class="docutils literal notranslate"><span class="pre">attribute</span></code> parameter can be a comma separated list of
attributes, e.g. <code class="docutils literal notranslate"><span class="pre">"age,name"</span></code>.</p> <p><span class="versionmodified changed">Changed in version 2.6: </span>The <code class="docutils literal notranslate"><span class="pre">attribute</span></code> parameter was added.</p> <p>Convert an object to a string if it isn’t already. This preserves a <code class="xref py py-class docutils literal notranslate"><span class="pre">Markup</span></code> string rather than converting it back to abasic string, so it will still be marked as safe and won’t be escaped again.</p> <p>Strip SGML/XML tags and replace adjacent whitespace by one space.</p> <p>Returns thesum of a sequence of numbers plus the value of parameter
‘start’ (which defaults to 0).  When the sequence is empty it returns
start.</p> <p>It is also possible to sum up only certain attributes:</p> <p><span class="versionmodified changed">Changed in version 2.6: </span>The <cite>attribute</cite> parameter was added to allow suming up over
attributes.  Also the <cite>start</cite> parameter was moved on to the right.</p> <p>Return a titlecased version of the value. I.e. words will start with
uppercase letters, all remaining characters are lowercase.</p> <p>Serialize an object to a string of JSON, and mark it safe to
render in HTML. This filter is only for use in HTML documents.</p> <p>The returned string is safe to render in HTML documents and
<code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tags. The exception is in HTML attributes that are
double quoted; either use single quotes or the
filter.</p> <p><strong>value</strong> – The object to serialize to JSON.</p> <p><strong>indent</strong> – The <code class="docutils literal notranslate"><span class="pre">indent</span></code> parameter passed to <code class="docutils literal notranslate"><span class="pre">dumps</span></code>, for
pretty-printing the value.</p> <p><span class="versionmodified added">New in version 2.9.</span></p> <p>Strip leading and trailing characters, by default whitespace.</p> <p>Return a truncated copy of the string. The length is specified
with the first parameter which defaults to <code class="docutils literal notranslate"><span class="pre">255</span></code>. If the second
parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code> the filter will cut the text at length. Otherwise
it will discard the last word. If the text was in fact
truncated it will append an ellipsis sign (<code class="docutils literal notranslate"><span class="pre">"..."</span></code>). If you want a
different ellipsis sign than <code class="docutils literal notranslate"><span class="pre">"..."</span></code> you can specify it using the
third parameter. Strings that only exceed the length by the tolerance
margin given in the fourth parameter will not be truncated.</p> <p>The default leeway on newer Jinja versions is 5 and was 0 before but
can be reconfigured globally.</p> <p>Returns a list of unique items from the given iterable.</p> <p>The unique items are yielded in the same order as their first occurrence in
the iterable passed to the filter.</p> <p><strong>case_sensitive</strong> – Treat upper and lower case strings as distinct.</p> <p><strong>attribute</strong> – Filter objects with unique values for this attribute.</p> <p>Convert a value to uppercase.</p> <p>Quote data for use in a URL path or query using UTF-8.</p> <p>Basic wrapper around <a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.quote" title="(in Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.quote()</span></code></a> when given a
string, or <a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlencode" title="(in Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.urlencode()</span></code></a> for a dict or iterable.</p> <p><strong>value</strong> – Data to quote. A string will be quoted directly. A
dict or iterable of <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code> pairs will be joined as a
query string.</p> <p>When given a string, “/” is not quoted. HTTP servers treat “/” and
“%2F” equivalently in paths. If you need quoted slashes, use the
<code class="docutils literal notranslate"><span class="pre">|replace("/",</span> <span class="pre">"%2F")</span></code> filter.</p> <p><span class="versionmodified added">New in version 2.7.</span></p> <p>Convert URLs in text into clickable links.</p> <p>This may not recognize links in some situations. Usually, a more
comprehensive formatter, such as a Markdown library, is a better
choice.</p> <p>Works on <code class="docutils literal notranslate"><span class="pre">http://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">www.</span></code>, <code class="docutils literal notranslate"><span class="pre">mailto:</span></code>, and email
addresses. Links with trailing punctuation (periods, commas, closing
parentheses) and leading punctuation (opening parentheses) are
recognized excluding the punctuation. Email addresses that include
header fields are not recognized (for example,
<code class="docutils literal notranslate"><span class="pre">mailto:address@example.com?cc=copy@example.com</span></code>).</p> <p><strong>value</strong> – Original text containing URLs to link.</p> <p><strong>trim_url_limit</strong> – Shorten displayed URL values to this length.</p> <p><strong>nofollow</strong> – Add the <code class="docutils literal notranslate"><span class="pre">rel=nofollow</span></code> attribute to links.</p> <p><strong>target</strong> – Add the <code class="docutils literal notranslate"><span class="pre">target</span></code> attribute to links.</p> <p><strong>rel</strong> – Add the <code class="docutils literal notranslate"><span class="pre">rel</span></code> attribute to links.</p> <p><strong>extra_schemes</strong> – Recognize URLs that start with these schemes
in addition to the default behavior. Defaults to
<code class="docutils literal notranslate"><span class="pre">env.policies["urlize.extra_schemes"]</span></code>, which defaults to no
extra schemes.</p> <p><span class="versionmodified changed">Changed in version 3.0: </span>The <code class="docutils literal notranslate"><span class="pre">extra_schemes</span></code> parameter was added.</p> <p><span class="versionmodified changed">Changed in version 3.0: </span>Generate <code class="docutils literal notranslate"><span class="pre">https://</span></code> links for URLs without a scheme.</p> <p><span class="versionmodified changed">Changed in version 3.0: </span>The parsing rules were updated. Recognize email addresses with
or without the <code class="docutils literal notranslate"><span class="pre">mailto:</span></code> scheme. Validate IP addresses. Ignore
parentheses and brackets in more cases.</p> <p><span class="versionmodified changed">Changed in version 2.8: </span>The <code class="docutils literal notranslate"><spanclass="pre">target</span></code> parameter was added.</p> <p>Count the words in that string.</p> <p>Wrap a string to the given width. Existing newlines are treated
as paragraphs to be wrapped separately.</p> <p><strong>s</strong> – Original text to wrap.</p> <p><strong>width</strong> – Maximum length of wrapped lines.</p> <p><strong>break_long_words</strong> – If a word is longer than <code class="docutils literal notranslate"><span class="pre">width</span></code>, break
it across lines.</p> <p><strong>break_on_hyphens</strong> – If a word contains hyphens, it may be split
across lines.</p> <p><strong>wrapstring</strong> – String to join each wrapped line. Defaults to
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Environment.newline_sequence</span></code>.</p> <p><span class="versionmodified changed">Changed in version 2.11: </span>Existing newlines are treated as paragraphs wrapped separately.</p> <p><span class="versionmodified changed">Changed in version 2.11: </span>Added the <code class="docutils literal notranslate"><span class="pre">break_on_hyphens</span></code> parameter.</p> <p><span class="versionmodified changed">Changed in version 2.7: </span>Added the <code class="docutils literal notranslate"><span class="pre">wrapstring</span></code> parameter.</p> <p>Create an SGML/XML attribute string based on the items in a dict.
All values that are neither <cite>none</cite> nor <cite>undefined</cite> are automatically
escaped:</p> <p>Results in something like this:</p> <p>As you can see it automatically prepends a space in front of the item
if the filter returned something unless the second parameter is false.</p> <p><a class="reference internal" href="#jinja-tests.boolean" title="jinja-tests.boolean"><code class="xref py py-func docutils literal notranslate"><span class="pre">boolean()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.even" title="jinja-tests.even"><code class="xref py py-func docutils literal notranslate"><span class="pre">even()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.in" title="jinja-tests.in"><code class="xref py py-func docutils literal notranslate"><span class="pre">in()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.mapping" title="jinja-tests.mapping"><code class="xref py py-func docutils literal notranslate"><span class="pre">mapping()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.sequence" title="jinja-tests.sequence"><code class="xref py py-func docutils literal notranslate"><span class="pre">sequence()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.callable" title="jinja-tests.callable"><code class="xref py py-func docutils literal notranslate"><span class="pre">callable()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.false" title="jinja-tests.false"><code class="xref py py-func docutils literal notranslate"><span class="pre">false()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.integer" title="jinja-tests.integer"><code class="xref py py-func docutils literal notranslate"><span class="pre">integer()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.ne" title="jinja-tests.ne"><code class="xref py py-func docutils literal notranslate"><span class="pre">ne()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.string" title="jinja-tests.string"><code class="xref py py-func docutils literal notranslate"><span class="pre">string()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.defined" title="jinja-tests.defined"><code class="xref py py-func docutils literal notranslate"><span class="pre">defined()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.filter" title="jinja-tests.filter"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.iterable" title="jinja-tests.iterable"><code class="xref py py-func docutilsliteral notranslate"><span class="pre">iterable()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.none" title="jinja-tests.none"><code class="xref py py-func docutils literal notranslate"><span class="pre">none()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.test" title="jinja-tests.test"><code class="xref py py-func docutils literal notranslate"><span class="pre">test()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.divisibleby" title="jinja-tests.divisibleby"><code class="xref py py-func docutils literal notranslate"><span class="pre">divisibleby()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.float" title="jinja-tests.float"><code class="xref py py-func docutils literal notranslate"><span class="pre">float()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.le" title="jinja-tests.le"><code class="xref py py-func docutils literal notranslate"><span class="pre">le()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.number" title="jinja-tests.number"><code class="xref py py-func docutils literal notranslate"><span class="pre">number()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.true" title="jinja-tests.true"><code class="xref py py-func docutils literal notranslate"><span class="pre">true()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.eq" title="jinja-tests.eq"><code class="xref py py-func docutils literal notranslate"><span class="pre">eq()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.ge" title="jinja-tests.ge"><code class="xref py py-func docutils literal notranslate"><span class="pre">ge()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.lower" title="jinja-tests.lower"><code class="xref py py-func docutils literal notranslate"><span class="pre">lower()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.odd" title="jinja-tests.odd"><code class="xref py py-func docutils literal notranslate"><span class="pre">odd()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.undefined" title="jinja-tests.undefined"><code class="xref py py-func docutils literal notranslate"><span class="pre">undefined()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.escaped" title="jinja-tests.escaped"><code class="xref py py-func docutils literal notranslate"><span class="pre">escaped()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.gt" title="jinja-tests.gt"><code class="xref py py-func docutils literal notranslate"><span class="pre">gt()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.lt" title="jinja-tests.lt"><code class="xref py py-func docutils literalnotranslate"><span class="pre">lt()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.sameas" title="jinja-tests.sameas"><code class="xref py py-func docutils literal notranslate"><span class="pre">sameas()</span></code></a></p> <p><a class="reference internal" href="#jinja-tests.upper" title="jinja-tests.upper"><code class="xref py py-func docutils literal notranslate"><span class="pre">upper()</span></code></a></p> <p>Return true if the object is a boolean value.</p> <p><spanclass="versionmodified added">New in version 2.11.</span></p> <p>Return whether the object is callable (i.e., some kind of function).</p> <p>Note that classes are callable, as are instances of classes with a
__call__() method.</p> <p>Return true if the variable is defined:</p> <p>See the <code class="xref py py-func docutils literal notranslate"><span class="pre">default()</span></code> filter for a simple way to set undefined
variables.</p> <p>Check if a variable is divisible by a number.</p> <p>Same as a == b.</p> <p><code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">equalto</span></code></p> <p>Check if the value is escaped.</p> <p>Return true if the variable is even.</p> <p>Return true if the object is False.</p> <p><span class="versionmodified added">New in version 2.11.</span></p> <p>Check if a filter exists by name. Useful if a filter may be
optionally available.</p> <p><span class="versionmodified added">New in version 3.0.</span></p> <p>Return true if the object is a float.</p> <p><span class="versionmodified added">New in version 2.11.</span></p> <p>Same as a &gt;= b.</p> <p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p> <p>Same as a &gt; b.</p> <p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">greaterthan</span></code></p> <p>Check if value is in seq.</p> <p><span class="versionmodified added">New in version 2.10.</span></p> <p>Return true if the object is an integer.</p> <p><span class="versionmodified added">New in version 2.11.</span></p> <p>Check if it’s possible to iterate over an object.</p> <p>Same as a &lt;= b.</p> <p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p> <p>Return true if the variable is lowercased.</p> <p>Same as a &lt; b.</p> <p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">lessthan</span></code></p> <p>Return true if the object is a mapping (dict etc.).</p> <p><span class="versionmodified added">New in version 2.6.</span></p> <p>Same as a != b.</p> <p><code class="docutils literalnotranslate"><span class="pre">!=</span></code></p> <p>Return true if the variable is none.</p> <p>Return true if the variable is a number.</p> <p>Return true if the variable is odd.</p> <p>Check if an object points to the same memory address than another
object:</p> <p>Return true if the variable is a sequence. Sequences are variables
that are iterable.</p> <p>Return true if the object is a string.</p> <p>Check if a test exists by name. Useful if a test may be
optionally available.</p> <p><span class="versionmodified added">New in version 3.0.</span></p> <p>Return true if the object is True.</p> <p><span class="versionmodified added">New in version 2.11.</span></p> <p>Like <a class="reference internal" href="#jinja-tests.defined" title="jinja-tests.defined"><code class="xref py py-func docutils literal notranslate"><span class="pre">defined()</span></code></a> but the other way round.</p> <p>Return true if the variable is uppercased.</p> <p>The following functions are available in the global scope by default:</p> <p>Return a list containing an arithmetic progression of integers.
<code class="docutils literal notranslate"><span class="pre">range(i,</span> <span class="pre">j)</span></code> returns <code class="docutils literal notranslate"><spanclass="pre">[i,</span> <span class="pre">i+1,</span> <span class="pre">i+2,</span> <span class="pre">...,</span> <span class="pre">j-1]</span></code>;
start (!) defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>.
When step is given, it specifies the increment (or decrement).
For example, <code class="docutils literal notranslate"><span class="pre">range(4)</span></code> and <code class="docutils literal notranslate"><span class="pre">range(0,</span> <span class="pre">4,</span> <span class="pre">1)</span></code> return <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>.
The end point is omitted!
These are exactly the valid indices for a list of 4 elements.</p> <p>This is useful to repeat a template block multiple times, e.g.
to fill a list.  Imagine you have 7 users in the list but you want to
render three empty items to enforce a height with CSS:</p> <p>Generates some lorem ipsum for the template.  By default, five paragraphs
of HTML are generated with each paragraph between 20 and 100 words.
If html is False, regular text is returned.  This is useful to generate simple
contents for layout testing.</p> <p>A convenient alternative to dict literals.  <code class="docutils literal notranslate"><span class="pre">{'foo':</span> <span class="pre">'bar'}</span></code> is the same
as <code class="docutils literal notranslate"><span class="pre">dict(foo='bar')</span></code>.</p> <p>Cycle through values by yielding them one at a time, then restarting
once the end is reached.</p> <p>Similar to <code class="docutils literal notranslate"><span class="pre">loop.cycle</span></code>, but can be used outside loops or across
multiple loops. For example, render a list of folders and files in a
list, alternating giving them “odd” and “even” classes.</p> <p><strong>items</strong> – Each positional argument will be yielded in the order
given for each cycle.</p> <p><span class="versionmodified added">New in version 2.1.</span></p> <p>Return the current item. Equivalent to the item that will be
returned next time <a class="reference internal" href="#jinja-globals.cycler.next" title="jinja-globals.cycler.next"><code class="xref py py-meth docutils literal notranslate"><span class="pre">next()</span></code></a> is called.</p> <p>Return the current item, then advance <a class="reference internal" href="#jinja-globals.cycler.current" title="jinja-globals.cycler.current"><code class="xref py py-attr docutils literal notranslate"><span class="pre">current</span></code></a> to the
next item.</p> <p>Resets the current item to the first item.</p> <p>A tiny helper that can be used to “join” multiple sections.  A joiner is
passed a string and will return that string every time it’s called, except
the first time (in which case it returns an empty string).  You can
use this to join things:</p> <p><span class="versionmodified added">New in version 2.1.</span></p> <p>Creates a new container that allows attribute assignment using the
<code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">set</span> <span class="pre">%}</span></code> tag:</p> <p>The main purpose of this is to allow carrying a value from within a loop
body to an outer scope.  Initial values can be provided as a dict, as
keyword arguments, or both (same behavior as Python’s <cite>dict</cite> constructor):</p> <p><span class="versionmodified added">New in version 2.10.</span></p> <p>The following sections cover the built-in Jinja extensions that may be
enabled by an application.  An application could also provide further
extensions not covered by this documentation; in which case there should
be a separate document explaining said <a class="reference internal" href="../extensions/#jinja-extensions"><span class="std std-ref">extensions</span></a>.</p> <p>If the <a class="reference internal" href="../extensions/#i18n-extension"><span class="std std-ref">i18n Extension</span></a> is enabled, it’s possible to mark text in
the template as translatable. To mark a section as translatable, use a
<code class="docutils literal notranslate"><span class="pre">trans</span></code> block:</p> <p>Inside the block, no statements are allowed, only text and simple
variable tags.</p> <p>Variable tags can only be a name, not attribute access, filters, or
other expressions. To use an expression, bind it to a name in the
<code class="docutils literal notranslate"><span class="pre">trans</span></code> tag for use in the block.</p> <p>To bind more than one expression, separate each with acomma (<code class="docutils literal notranslate"><span class="pre">,</span></code>).</p> <p>To pluralize, specify both the singular and plural forms separated by
the <code class="docutils literal notranslate"><span class="pre">pluralize</span></code> tag.</p> <p>By default, the first variable in a block is used to determine whether
to use singular or plural form. If that isn’t correct, specify the
variable used for pluralizing as a parameter to <code class="docutils literal notranslate"><span class="pre">pluralize</span></code>.</p> <p>When translating blocks of text, whitespace and linebreaks result in
hard to read and error-prone translation strings. To avoid this, a trans
block can be marked as trimmed, which will replace all linebreaks and
the whitespace surrounding them with a single space and remove leading
and trailing whitespace.</p> <p>This results in <code class="docutils literal notranslate"><span class="pre">This</span> <span class="pre">is</span> <span class="pre">%(book_title)s.</span> <span class="pre">You</span> <span class="pre">should</span> <span class="pre">read</span> <span class="pre">it!</span></code> in the
translation file.</p> <p>If trimming is enabled globally, the <code class="docutils literal notranslate"><span class="pre">notrimmed</span></code> modifier can be used
to disable it for a block.</p> <p><span class="versionmodified added">New in version 2.10: </span>The <code class="docutils literal notranslate"><span class="pre">trimmed</span></code> and <code class="docutils literal notranslate"><span class="pre">notrimmed</span></code> modifiers have been added.</p> <p>It’s possible to translate strings in expressions with these functions:</p> <p><code class="docutils literal notranslate"><span class="pre">gettext</span></code>: translate a single string</p> <p><code class="docutils literal notranslate"><span class="pre">ngettext</span></code>: translate a pluralizable string</p> <p><code class="docutils literal notranslate"><span class="pre">_</span></code>: alias for <code class="docutils literal notranslate"><span class="pre">gettext</span></code></p> <p>You can print a translated string likethis:</p> <p>To use placeholders, use the <code class="docutils literal notranslate"><span class="pre">format</span></code> filter.</p> <p>Always use keyword arguments to <code class="docutils literal notranslate"><span class="pre">format</span></code>, as other languages may not
use the words in the same order.</p> <p>If <a class="reference internal" href="../extensions/#newstyle-gettext"><span class="std std-ref">New Style Gettext</span></a> calls are activated, using placeholders is
easier. Formatting is part of the <code class="docutils literal notranslate"><span class="pre">gettext</span></code> call instead of using the
<code class="docutils literal notranslate"><span class="pre">format</span></code> filter.</p> <p>The <code class="docutils literal notranslate"><span class="pre">ngettext</span></code> function’s format string automatically receives the
count as a <code class="docutils literal notranslate"><span class="pre">num</span></code> parameter in addition to the given parameters.</p> <p>If the expression-statement extension is loaded, a tag called <cite>do</cite> is available
that works exactly like the regular variable expression (<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></code>); except
it doesn’t print anything.  This can be used to modify lists:</p> <p>If the application enables the <a class="reference internal" href="../extensions/#loopcontrols-extension"><span class="std std-ref">Loop Controls</span></a>, it’s possible to
use <cite>break</cite> and <cite>continue</cite> in loops.  When <cite>break</cite> is reached, the loop is
terminated;  if <cite>continue</cite> is reached, the processing is stopped and continues
with the next iteration.</p> <p>Here’s a loop that skips every second item:</p> <p>Likewise, a loop that stops processing after the 10th iteration:</p> <p>Note that <code class="docutils literal notranslate"><span class="pre">loop.index</span></code> starts with 1, and <code class="docutils literal notranslate"><span class="pre">loop.index0</span></code> starts with 0
(See: <a class="reference internal" href="#for-loop"><span class="std std-ref">For</span></a>).</p> <p>If the <a class="reference internal" href="../extensions/#debug-extension"><span class="std std-ref">Debug Extension</span></a> is enabled, a <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">debug</span> <span class="pre">%}</span></code> tag will be
available to dump the current context as well as the available filters
and tests. This is useful to see what’s available to use in the template
without setting up a debugger.</p> <p><span class="versionmodified added">New in version 2.3.</span></p> <p>The with statement makes it possible to create a new inner scope.
Variables set within this scope are not visible outside of the scope.</p> <p>With in a nutshell:</p> <p>Because it is common to set variables at the beginning of the scope,
you can do that within the <cite>with</cite> statement.  The following two examples
are equivalent:</p> <p>An important note on scoping here.  In Jinja versions before 2.9 the
behavior of referencing one variable to another had some unintended
consequences.  In particular one variable could refer to another defined
in the same with block’s opening statement.  This caused issues with the
cleaned up scoping behavior and has since been improved.  In particular
in newer Jinja versions the following code always refers to the variable
<cite>a</cite> from outside the <cite>with</cite> block:</p> <p>In earlier Jinja versions the <cite>b</cite> attribute would refer to the results of
the first attribute.  If you depend on this behavior you can rewrite it to
use the <code class="docutils literal notranslate"><span class="pre">set</span></code> tag:</p> <p class="admonition-title">Extension</p> <p>In older versions of Jinja (before 2.9) it was required to enable this
feature with an extension.  It’s now enabled by default.</p> <p><span class="versionmodified added">New in version 2.4.</span></p> <p>If you want you can activate and deactivate the autoescaping from within
the templates.</p> <p>Example:</p> <p>After an <cite>endautoescape</cite> the behavior is reverted to what it was before.</p> <p class="admonition-title">Extension</p> <p>In older versions of Jinja (before 2.9) it was required to enable this
feature with an extension.  It’s now enabled by default.

</a></p>])%
        
        
        
    </div>    
    
    


